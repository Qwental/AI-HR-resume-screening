# üöÄ **AI-HR System: –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é**## üìù **–û–±–∑–æ—Ä****AI-HR System** ‚Äî —ç—Ç–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—ã–π backend –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ HR-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤. –û–Ω –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–∞–∫–∞–Ω—Å–∏—è–º–∏, —Ä–µ–∑—é–º–µ –∏ –∏–Ω—Ç–µ—Ä–≤—å—é, –∏—Å–ø–æ–ª—å–∑—É—è PostgreSQL, RabbitMQ –∏ MinIO.

## üõ†Ô∏è **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã**- **`auth` (Auth Service):** –£–ø—Ä–∞–≤–ª—è–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ JWT-—Ç–æ–∫–µ–Ω–∞–º–∏.
- **`interview` (Interview Service):** –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∞–∫–∞–Ω—Å–∏–∏, —Ä–µ–∑—é–º–µ –∏ –∏–Ω—Ç–µ—Ä–≤—å—é.
- **`db` (PostgreSQL):** –û—Å–Ω–æ–≤–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö.
- **`rabbitmq` (RabbitMQ):** –ë—Ä–æ–∫–µ—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á.
- **`minio` (MinIO):** S3-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ñ–∞–π–ª–æ–≤.

***

## ‚öôÔ∏è **–®–∞–≥ 1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è**–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ –ø–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å `file.env`, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã–º —Ä–∞–Ω–µ–µ:

```bash
# .env

# --- JWT ---
JWT_SECRET=your-very-long-and-secure-jwt-secret-key-at-least-32-characters-long
JWT_ACCESS_TTL=30m
JWT_REFRESH_TTL=7d

# --- –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ ---
GIN_MODE=debug

# --- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (PostgreSQL) ---
DB_USER=ai_hr_user
DB_PASSWORD=ai_hr_password
DB_NAME=ai_hr_db

# --- MinIO S3 ---
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET=interview-files

# --- URL –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏) ---
AUTH_SERVICE_URL=http://localhost:8080
INTERVIEW_SERVICE_URL=http://localhost:8081
RABBITMQ_URL=amqp://guest:guest@localhost```72/
```

## üöÄ **–®–∞–≥ 2: –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã**1.  **–°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:**
    –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
    ```bash
    docker compose up --build -d
    ```

2.  **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:**
    ```bash
    docker compose ps
    ```
    –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å —Å—Ç–∞—Ç—É—Å `running (healthy)`.

***

## üîó **–î–æ—Å—Ç—É–ø—ã –∏ –ø–æ—Ä—Ç—ã**| –°–µ—Ä–≤–∏—Å | –õ–æ–∫–∞–ª—å–Ω—ã–π –∞–¥—Ä–µ—Å | –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å | –ü–∞—Ä–æ–ª—å |
| :--- | :--- | :--- | :--- |
| **Auth Service API** | `http://localhost:8080` | - | - |
| **Interview Service API** | `http://localhost:8081` | - | - |
| **PostgreSQL** | `localhost:5432` | `ai_hr_user` | `ai_hr_password` |
| **RabbitMQ Management** | `http://localhost:15672` | `guest` | `guest` |
| **MinIO Console** | `http://localhost:9001` | `minioadmin` | `minioadmin123` |

***

## üß™ **–®–∞–≥ 3: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API**### **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**–°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∏—Ç–µ JWT-—Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã `auth` —Å–µ—Ä–≤–∏—Å–∞:
- `POST /auth/register` - –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
- `POST /auth/login` - –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è `access_token`.

### **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏**–ü–æ–¥—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à `access_token` –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization`.

```bash

curl -X POST http://localhost:8081/api/vacancies \
  -H "Authorization: Bearer "your_jwt_access_token_here"" \
  -F "title=Senior Backend Developer" \
  -F "description=–û–ø—ã—Ç–Ω—ã–π Go-—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤" \
  -F "users_id=1" \
  -F "weight_soft=30" \
  -F "weight_hard=50" \
  -F "weight_case=20" \
  -F "file=@/–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/—Ñ–∞–π–ª—É/test-vacancy.txt"
```
*–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ `id` –≤–∞–∫–∞–Ω—Å–∏–∏ –∏–∑ –æ—Ç–≤–µ—Ç–∞.*

### **–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∑—é–º–µ**```bash
VACANCY_ID="id_–≤–∞–∫–∞–Ω—Å–∏–∏_–∏–∑_–ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ_—à–∞–≥–∞"

curl -X POST http://localhost:8081/api/resumes \
-H "Authorization: Bearer $ACCESS_TOKEN" \
-F "vacancy_id=$VACANCY_ID" \
-F "file=@/–ø—É—Ç—å/–∫/–≤–∞—à–µ–º—É/—Ñ–∞–π–ª—É/test-resume.txt"
```

***

## üì¶ **–†–∞–±–æ—Ç–∞ —Å –±—Ä–æ–∫–µ—Ä–æ–º (RabbitMQ)**- **–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π:** –°–µ—Ä–≤–∏—Å `interview` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –æ—á–µ—Ä–µ–¥—å `resume_analysis_queue` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤–æ–≥–æ —Ä–µ–∑—é–º–µ.
- **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π:** –ú–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Python-–∫–æ–Ω—Å—å—é–º–µ—Ä –¥–ª—è –∏—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏.

1.  **–°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
    ```bash
    cd interview/internal/broker
    python3 -m venv venv
    source venv/bin/activate
    pip install pika
    ```

2.  **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Å—å—é–º–µ—Ä:**
    ```bash
    python3 consumer.py
    ```
    –û–Ω –±—É–¥–µ—Ç –æ–∂–∏–¥–∞—Ç—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏.

## üóëÔ∏è **–û—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏—Å—Ç–µ–º—ã**–î–ª—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
docker compose down
```
–î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö (–≤–∫–ª—é—á–∞—è volumes):
```bash
docker compose down -v
```

[1](https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/101623268/5484ba4f-b4eb-4c25-b986-af7786885463/file.env)